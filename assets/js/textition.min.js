!function(t){t.fn.textition=function(e){var s,a=t.extend({map:{x:100,y:50,z:1e3},speed:1,animation:"ease",handler:"click",perspective:300,autoplay:!1,interval:3,element:this},e),i=this,n=this.children(),r=0,o={},p=function(t){return Math.round(Math.random()*t)-t/2},c=function(){var e,s=0,i=0,n=0;for(e in a.map)switch(e){case"x":s=p(a.map.x);break;case"y":i=p(a.map.y);break;case"z":n=p(a.map.z)}t(this).css({"-webkit-transform":"translate3d("+s+"px, "+i+"px, "+n+"px)","-moz-transform":"translate3d("+s+"px, "+i+"px, "+n+"px)","-ms-transform":"translate3d("+s+"px, "+i+"px, "+n+"px)","-o-transform":"translate3d("+s+"px, "+i+"px, "+n+"px)",transform:"translate3d("+s+"px, "+i+"px, "+n+"px)"})},m=function(){t(this).css({"-webkit-transform":"translate3d(0px, 0px, 0px)","-moz-transform":"translate3d(0px, 0px, 0px)","-ms-transform":"translate3d(0px, 0px, 0px)","-o-transform":"translate3d(0px, 0px, 0px)",transform:"translate3d(0px, 0px, 0px)"})},l=function(e){a.autoplay&&e&&!e.isTrigger&&(clearInterval(s),s=setInterval(h,1e3*a.interval)),t(n[r]).css("opacity",0).children().each(c),++r>n.length-1&&(r=0),t(n[r]).css("opacity",1).children().each(m)},f=function(){t(this).css({"-webkit-transform-style":"preserve-3d","-moz-transform-style":"preserve-3d","-ms-transform-style":"preserve-3d","-o-transform-style":"preserve-3d","transform-style":"preserve-3d","-webkit-transition":"opacity "+a.speed+"s "+a.animation,"-moz-transition":"opacity "+a.speed+"s "+a.animation,"-ms-transition":"opacity "+a.speed+"s "+a.animation,"-o-transition":"opacity "+a.speed+"s "+a.animation,transition:"opacity "+a.speed+"s "+a.animation,position:"absolute",display:"block",width:o.width,left:o.left,top:o.top})},d=function(){t(this).css({"-webkit-transition":"-webkit-transform "+a.speed+"s "+a.animation,"-moz-transition":"-moz-transform "+a.speed+"s "+a.animation,"-ms-transition":"-ms-transform "+a.speed+"s "+a.animation,"-o-transition":"-o-transform "+a.speed+"s "+a.animation,transition:"transform "+a.speed+"s "+a.animation,display:"inline-block"})},x=function(){for(var e=t(this),s=e.text(),a="",i=0;i<s.length;i++){var n;t:switch(n=s[i],n){case" ":n="&nbsp;"}a+="<l>"+n+"</l>"}e.html(a)},h=function(){l()};!function(){var t=n.first();o.top=t.offset().top-i.offset().top,o.left=t.offset().left-i.offset().left,o.width=t.width(),(t=n.not(":first")).hide().css("opacity",0);var e=i.css("position");i.css({"-webkit-perspective":a.perspective+"px","-moz-perspective":a.perspective+"px","-ms-perspective":a.perspective+"px","-o-perspective":a.perspective+"px",perspective:a.perspective+"px",position:"static"===e?"relative":e,height:i.height(),width:i.width()}),n.each(x),n.each(f),i.find("l").each(d),t.show().children().each(c),a.handler&&a.element.bind(a.handler,l),a.autoplay&&(s=setInterval(h,1e3*a.interval))}()}}(jQuery);